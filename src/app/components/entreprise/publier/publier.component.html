<div class="container-fluid" style="height: 100vh">
  <!-- DataTales Example -->
  <div
    class="card shadow mb-4"
    style="
      margin-top: 100px;
      border: none;
      padding: 15px 20px;
      border-radius: 25px;
      background: rgba(255, 255, 255, 0.1);
      box-shadow: 20px 5px 5px rgb(91, 105, 158);
    "
  >
    <div class="card-header py-3">
      <a type="button" href="javascript:history.go(-1)">retour</a>
      <h4
        class="m-0 font-weight-bold flex align-items-center justify-content-center"
        style="
          text-align: center;
          font-size: xx-large;
          font-weight: 700;
          font-family: Georgia, 'Times New Roman', Times, serif;
        "
      >
        Ajouter une nouvelle offre de stage
      </h4>
    </div>
    <div class="card-body">
      <form [formGroup]="addForm" method="post">
        <div class="mb-3">
          <label for="exampleFormControlInput1" class="form-label"
            >Titre de stage</label
          >
          <input
            type="text"
            class="form-control"
            placeholder="titre"
            required
            formControlName="titre"
          />
          <div
            *ngIf="
              addForm.get('titre')?.invalid &&
              (addForm.get('titre')?.touched || addForm.get('titre')?.dirty)
            "
            class="text-danger"
          >
            <div *ngIf="addForm.get('titre')?.errors?.['required']">
              Veuillez saisir le titre de stage 
            </div>
          </div>
        </div>

        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label"
            >Description de l'offre :</label
          >
          <textarea
            class="form-control"
            formControlName="description"
            id="exampleFormControlTextarea1"
            rows="3"
            placeholder="Contenu complet de l'offre telle qu'elle apparaît sur un site d'annonce de stage.

                Exemple: 
                Présentation de l'entreprise
                [...]
                
                Détails du poste
                [...]"
          ></textarea>
          <div
            *ngIf="
              addForm.get('description')?.invalid &&
              (addForm.get('description')?.touched ||
                addForm.get('description')?.dirty)
            "
            class="text-danger"
          >
            <div *ngIf="addForm.get('description')?.errors?.['required']">
              Veuillez saisir une lettre de description.
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label for="exampleFormControlInput1" class="form-label"
              >Technologies</label
            >
            <input
              type="text"
              class="form-control"
              placeholder="technologies"
              required
              formControlName="technologies"
            />
            <div
              *ngIf="
                addForm.get('technologies')?.invalid &&
                (addForm.get('technologies')?.touched ||
                  addForm.get('technologies')?.dirty)
              "
              class="text-danger"
            >
              <div *ngIf="addForm.get('technologies')?.errors?.['required']">
                Veuillez saisir technologies
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <label for="exampleFormControlInput1" class="form-label"
              >Lieux</label
            >
            <input
              type="text"
              class="form-control"
              placeholder="lieux de stage"
              required
              formControlName="lieu"
            />
            <div
              *ngIf="
                addForm.get('lieu')?.invalid &&
                (addForm.get('lieu')?.touched || addForm.get('lieu')?.dirty)
              "
              class="text-danger"
            >
              <div *ngIf="addForm.get('lieu')?.errors?.['required']">
                Veuillez saisir lieu
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="form-label">Durée de stage</label>
            <div class="input-group">
              <input
                class="form-control"
                type="text"
                placeholder="en moin(s)"
                formControlName="duree"
              />
            </div>
            <div
              *ngIf="
                addForm.get('lieu')?.invalid &&
                (addForm.get('lieu')?.touched || addForm.get('lieu')?.dirty)
              "
              class="text-danger"
            >
              <div *ngIf="addForm.get('lieu')?.errors?.['required']">
                Veuillez saisir Durée de stage
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <label for="exampleFormControlInput1" class="form-label"
              >Domaine
            </label>
            <input
              type="text"
              class="form-control"
              placeholder="Domaine"
              required
              formControlName="domaine"
            />
            <div
              *ngIf="
                addForm.get('domaine')?.invalid &&
                (addForm.get('domaine')?.touched ||
                  addForm.get('domaine')?.dirty)
              "
              class="text-danger"
            >
              <div *ngIf="addForm.get('domaine')?.errors?.['required']">
                Veuillez saisir domaine
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label for="exampleFormControlInput1" class="form-label"
              >Nombre stagiaire</label
            >
            <input
              type="text"
              class="form-control"
              placeholder="Nombre stagiaire(s)"
              required
              formControlName="number_candidats"
            />
            <div
              *ngIf="
                addForm.get('number_candidats')?.invalid &&
                (addForm.get('number_candidats')?.touched ||
                  addForm.get('number_candidats')?.dirty)
              "
              class="text-danger"
            >
              <div
                *ngIf="addForm.get('number_candidats')?.errors?.['required']"
              >
                Veuillez saisir Nombre stagiaire
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <label for="date" class="form-label">Date d'expiration</label>
            <div class="input-group">
              <input
                class="form-control"
                type="date"
                formControlName="date_dexpiration"
              />
            </div>
            <div
              *ngIf="
                addForm.get('date_dexpiration')?.invalid &&
                (addForm.get('date_dexpiration')?.touched ||
                  addForm.get('date_dexpiration')?.dirty)
              "
              class="text-danger"
            >
              <div
                *ngIf="addForm.get('date_dexpiration')?.errors?.['required']"
              >
                Veuillez saisir Date d'expiration
              </div>
              <div
                *ngIf="addForm.get('date_dexpiration')?.errors?.['futureDateInvalid']"
              >
                La Date d'expiration doit être dans le futur.
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="card-footer flex align-items-center justify-content-center">
      <button
        type="submit"
        class="btn"
        (click)="publierOffre()"
        formmethod="post"
        style="
          background-color: rgb(41, 91, 140);
          text-transform: uppercase;
          color: white;
          width: 20%;
          height: 6%;
          border: 2px solid;
          border-radius: 30px;
        "
      >
        Publier
      </button>
    </div>
  </div>
</div>
